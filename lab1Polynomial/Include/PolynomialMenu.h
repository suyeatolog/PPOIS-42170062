//
// Created by user on 02.10.2025.
//

/*! \file PolynomialMenu.h
 *  \brief Заголовочный файл с описанием класса PolynomialMenu
 *  \details Содержит объявление класса PolynomialMenu,
 *           который предоставляет пользовательский интерфейс
 *           для работы с многочленами через консольное меню.
 */

#ifndef LABWORK1_POLYNOMIALMENU_H
#define LABWORK1_POLYNOMIALMENU_H

#include "Polynomial.h"
#include <vector>

/*! \class PolynomialMenu
 *  \brief Класс, реализующий консольное меню для работы с многочленами
 *  \details Класс предоставляет интерфейс для создания многочленов
 *           и выполнения над ними различных математических операций через
 *           текстовое меню с выбором опций.
 */
class PolynomialMenu {
    public:

    /*! \brief Основной метод запуска меню
     *  \details Запускает главный цикл программы, отображает меню и обрабатывает
     *           пользовательский ввод до тех пор, пока не будет выбран выход.
     */
    void RunMenu();

    private:

    /*! \brief Вектор для хранения созданных многочленов
     *  \details Хранит все многочлены, созданные пользователем в течение сеанса работы
     */
    std::vector<Polynomial> Polynomials_;

    /*! \brief Метод отображения главного меню
     *  \details Выводит в консоль список доступных операций с многочленами
     */
    void PrintMenu();

    /*! \brief Метод создания нового многочлена
     *  \details Запрашивает у пользователя степень и коэффициенты многочлена,
     *           создает новый объект Polynomial и добавляет его в коллекцию
     */
    void CreatePolynomial();

    /*! \brief Метод вывода многочлена на экран
     *  \details Отображает выбранный многочлен в консоли
     */
    void PrintPolynomial();

    /*! \brief Метод вычисления значения многочлена
     *  \details Запрашивает значение переменной и вычисляет значение многочлена
     *           в указанной точке
     */
    void EvaluatePolynomial();

    /*! \brief Метод сложения двух многочленов
     *  \details Выполняет операцию сложения двух выбранных многочленов
     *           и сохраняет результат в коллекцию
     */
    void AddPolynomials();

    /*! \brief Метод вычитания двух многочленов
     *  \details Выполняет операцию вычитания двух выбранных многочленов
     *           и сохраняет результат в коллекцию
     */
    void SubtractPolynomials();

    /*! \brief Метод умножения двух многочленов
     *  \details Выполняет операцию умножения двух выбранных многочленов
     *           и сохраняет результат в коллекцию
     */
    void MultiplyPolynomials();

    /*! \brief Метод деления двух многочленов
     *  \details Выполняет операцию деления двух выбранных многочленов
     *           и сохраняет результат в коллекцию
     *  \warning Обрабатывает исключение при делении на нулевой многочлен
     */
    void DividePolynomials();

    /*! \brief Метод отображения списка всех многочленов
     *  \details Выводит в консоль список всех созданных многочленов
     *           с их индексами в коллекции
     */
    void ListPolynomials();

    /*! \brief Вспомогательный метод для выбора многочлена
     *  \return Индекс выбранного многочлена в коллекции
     *  \details Отображает список многочленов и запрашивает у пользователя
     *           индекс нужного многочлена с проверкой корректности ввода
     */
    int GetPolynomialIndex();

    /*! \brief Вспомогательный метод для отображения списка многочленов
     *  \details Выводит в консоль нумерованный список всех многочленов
     *           из коллекции с их текстовым представлением
     */
    void PrintPolynomialList();
};

#endif //LABWORK1_POLYNOMIALMENU_H